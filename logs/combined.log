{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-12T09:04:03.486Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-12T09:04:03.519Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-12T09:04:04.310Z"}
{"level":"info","message":"Summary generation scheduler started","timestamp":"2025-07-12T09:04:04.311Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-12T09:04:04.311Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-12T09:04:04.315Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-12T09:04:04.315Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-12T09:04:04.315Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-12T09:04:04.316Z"}
{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"level":"info","message":"ğŸ“… Scheduler status:","nextRun":"2025-07-12T12:30:00.000Z","timestamp":"2025-07-12T09:04:04.316Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-12T09:10:43.828Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-12T09:10:43.856Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-12T09:10:44.465Z"}
{"level":"info","message":"Summary generation scheduler started","timestamp":"2025-07-12T09:10:44.466Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-12T09:10:44.466Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-12T09:10:44.470Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-12T09:10:44.471Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-12T09:10:44.471Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-12T09:10:44.471Z"}
{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"level":"info","message":"ğŸ“… Scheduler status:","nextRun":"2025-07-12T12:30:00.000Z","timestamp":"2025-07-12T09:10:44.472Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-13T08:42:16.204Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-13T08:42:16.274Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-13T08:42:16.900Z"}
{"level":"info","message":"Summary generation scheduler started","timestamp":"2025-07-13T08:42:16.900Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-13T08:42:16.901Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-13T08:42:16.903Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-13T08:42:16.903Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-13T08:42:16.903Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-13T08:42:16.904Z"}
{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"level":"info","message":"ğŸ“… Scheduler status:","nextRun":"2025-07-13T12:30:00.000Z","timestamp":"2025-07-13T08:42:16.904Z"}
{"kind":"ObjectId","level":"error","message":"Error getting articles for user 322d223f-71e2-4b57-aa91-b17b637ca0a6: Cast to ObjectId failed for value \"322d223f-71e2-4b57-aa91-b17b637ca0a6\" (type string) at path \"userId\" for model \"UserCategoryPreference\"","path":"userId","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"322d223f-71e2-4b57-aa91-b17b637ca0a6\" (type string) at path \"userId\" for model \"UserCategoryPreference\"\n    at SchemaObjectId.cast (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\schemaType.js:1676:17)\n    at cast (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\query.js:5055:12)\n    at Query._castConditions (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\query.js:2351:10)\n    at model.Query._findOne (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\query.js:2674:8)\n    at model.Query.exec (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\query.js:4604:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async SummaryService.getArticlesForUser (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\src\\services\\summaryService.ts:29:37)","stringValue":"\"322d223f-71e2-4b57-aa91-b17b637ca0a6\"","timestamp":"2025-07-13T08:50:05.599Z","value":"322d223f-71e2-4b57-aa91-b17b637ca0a6","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Error generating summary for user 322d223f-71e2-4b57-aa91-b17b637ca0a6: Cast to ObjectId failed for value \"322d223f-71e2-4b57-aa91-b17b637ca0a6\" (type string) at path \"userId\" for model \"UserCategoryPreference\"","path":"userId","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"322d223f-71e2-4b57-aa91-b17b637ca0a6\" (type string) at path \"userId\" for model \"UserCategoryPreference\"\n    at SchemaObjectId.cast (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\schemaType.js:1676:17)\n    at cast (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\query.js:5055:12)\n    at Query._castConditions (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\query.js:2351:10)\n    at model.Query._findOne (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\query.js:2674:8)\n    at model.Query.exec (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\query.js:4604:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async SummaryService.getArticlesForUser (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\src\\services\\summaryService.ts:29:37)","stringValue":"\"322d223f-71e2-4b57-aa91-b17b637ca0a6\"","timestamp":"2025-07-13T08:50:05.600Z","value":"322d223f-71e2-4b57-aa91-b17b637ca0a6","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Error generating summary for user 322d223f-71e2-4b57-aa91-b17b637ca0a6: Cast to ObjectId failed for value \"322d223f-71e2-4b57-aa91-b17b637ca0a6\" (type string) at path \"userId\" for model \"UserCategoryPreference\"","path":"userId","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"322d223f-71e2-4b57-aa91-b17b637ca0a6\" (type string) at path \"userId\" for model \"UserCategoryPreference\"\n    at SchemaObjectId.cast (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\schemaType.js:1676:17)\n    at cast (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\query.js:5055:12)\n    at Query._castConditions (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\query.js:2351:10)\n    at model.Query._findOne (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\query.js:2674:8)\n    at model.Query.exec (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\mongoose\\lib\\query.js:4604:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async SummaryService.getArticlesForUser (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\src\\services\\summaryService.ts:29:37)","stringValue":"\"322d223f-71e2-4b57-aa91-b17b637ca0a6\"","timestamp":"2025-07-13T08:50:05.600Z","value":"322d223f-71e2-4b57-aa91-b17b637ca0a6","valueType":"string"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-13T08:50:29.740Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-13T08:50:29.768Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-13T08:50:30.394Z"}
{"level":"info","message":"Summary generation scheduler started","timestamp":"2025-07-13T08:50:30.395Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-13T08:50:30.396Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-13T08:50:30.399Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-13T08:50:30.399Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-13T08:50:30.399Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-13T08:50:30.399Z"}
{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"level":"info","message":"ğŸ“… Scheduler status:","nextRun":"2025-07-13T12:30:00.000Z","timestamp":"2025-07-13T08:50:30.400Z"}
{"level":"error","message":"Error generating summary for user 322d223f-71e2-4b57-aa91-b17b637ca0a6: Cannot read properties of undefined (reading 'sendToService')","stack":"TypeError: Cannot read properties of undefined (reading 'sendToService')\n    at generateUserSummary (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\src\\controller\\summarizerController.ts:159:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-13T08:50:34.316Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-13T08:59:18.483Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-13T08:59:18.512Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-13T08:59:19.096Z"}
{"level":"info","message":"Summary generation scheduler started","timestamp":"2025-07-13T08:59:19.097Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-13T08:59:19.097Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-13T08:59:19.100Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-13T08:59:19.100Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-13T08:59:19.101Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-13T08:59:19.101Z"}
{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"level":"info","message":"ğŸ“… Scheduler status:","nextRun":"2025-07-13T12:30:00.000Z","timestamp":"2025-07-13T08:59:19.101Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-13T09:05:37.519Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-13T09:05:37.546Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-13T09:05:38.199Z"}
{"level":"info","message":"Summary generation scheduler started","timestamp":"2025-07-13T09:05:38.200Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-13T09:05:38.201Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-13T09:05:38.205Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-13T09:05:38.205Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-13T09:05:38.206Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-13T09:05:38.206Z"}
{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"level":"info","message":"ğŸ“… Scheduler status:","nextRun":"2025-07-13T12:30:00.000Z","timestamp":"2025-07-13T09:05:38.207Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-13T09:05:45.087Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-13T09:05:45.113Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-13T09:05:45.618Z"}
{"level":"info","message":"Summary generation scheduler started","timestamp":"2025-07-13T09:05:45.618Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-13T09:05:45.619Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-13T09:05:45.621Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-13T09:05:45.621Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-13T09:05:45.622Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-13T09:05:45.622Z"}
{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"level":"info","message":"ğŸ“… Scheduler status:","nextRun":"2025-07-13T12:30:00.000Z","timestamp":"2025-07-13T09:05:45.623Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-13T09:05:56.579Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-13T09:05:56.610Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-13T09:05:57.144Z"}
{"level":"info","message":"Summary generation scheduler started","timestamp":"2025-07-13T09:05:57.145Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-13T09:05:57.145Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-13T09:05:57.148Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-13T09:05:57.148Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-13T09:05:57.148Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-13T09:05:57.148Z"}
{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"level":"info","message":"ğŸ“… Scheduler status:","nextRun":"2025-07-13T12:30:00.000Z","timestamp":"2025-07-13T09:05:57.149Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-13T09:06:03.152Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-13T09:06:03.177Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-13T09:06:03.685Z"}
{"level":"info","message":"Summary generation scheduler started","timestamp":"2025-07-13T09:06:03.686Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-13T09:06:03.686Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-13T09:06:03.688Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-13T09:06:03.689Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-13T09:06:03.689Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-13T09:06:03.689Z"}
{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"level":"info","message":"ğŸ“… Scheduler status:","nextRun":"2025-07-13T12:30:00.000Z","timestamp":"2025-07-13T09:06:03.690Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-13T12:00:00.073Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-13T12:00:00.081Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-13T12:00:00.330Z"}
{"level":"info","message":"Summary sending results: 0 successful, 1 failed out of 1 total","timestamp":"2025-07-13T12:00:00.594Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries","timestamp":"2025-07-13T12:00:00.595Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 524ms ===","timestamp":"2025-07-13T12:00:00.596Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-13T12:15:22.982Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-13T12:15:23.008Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-13T12:15:23.676Z"}
{"level":"info","message":"Summary generation scheduler started","timestamp":"2025-07-13T12:15:23.677Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-13T12:15:23.677Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-13T12:15:23.680Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-13T12:15:23.680Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-13T12:15:23.681Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-13T12:15:23.681Z"}
{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"level":"info","message":"ğŸ“… Scheduler status:","nextRun":"2025-07-13T12:30:00.000Z","timestamp":"2025-07-13T12:15:23.681Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-13T12:15:39.423Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-13T12:15:39.448Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-13T12:15:39.974Z"}
{"level":"info","message":"Summary generation scheduler started","timestamp":"2025-07-13T12:15:39.975Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-13T12:15:39.976Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-13T12:15:39.981Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-13T12:15:39.982Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-13T12:15:39.982Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-13T12:15:39.983Z"}
{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"level":"info","message":"ğŸ“… Scheduler status:","nextRun":"2025-07-13T12:30:00.000Z","timestamp":"2025-07-13T12:15:39.984Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-13T12:16:28.417Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-13T12:16:28.443Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-13T12:16:29.068Z"}
{"level":"info","message":"Summary generation scheduler started","timestamp":"2025-07-13T12:16:29.069Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-13T12:16:29.070Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-13T12:16:29.072Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-13T12:16:29.073Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-13T12:16:29.073Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-13T12:16:29.073Z"}
{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"level":"info","message":"ğŸ“… Scheduler status:","nextRun":"2025-07-13T12:30:00.000Z","timestamp":"2025-07-13T12:16:29.074Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-13T12:17:31.819Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-13T12:17:31.844Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-13T12:17:32.455Z"}
{"level":"info","message":"Summary generation scheduler started","timestamp":"2025-07-13T12:17:32.456Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-13T12:17:32.457Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-13T12:17:32.460Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-13T12:17:32.460Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-13T12:17:32.460Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-13T12:17:32.461Z"}
{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"level":"info","message":"ğŸ“… Scheduler status:","nextRun":"2025-07-13T12:30:00.000Z","timestamp":"2025-07-13T12:17:32.461Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-13T12:17:48.045Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-13T12:17:48.073Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-13T12:17:48.629Z"}
{"level":"info","message":"Summary generation scheduler started","timestamp":"2025-07-13T12:17:48.630Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-13T12:17:48.630Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-13T12:17:48.633Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-13T12:17:48.633Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-13T12:17:48.633Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-13T12:17:48.633Z"}
{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"level":"info","message":"ğŸ“… Scheduler status:","nextRun":"2025-07-13T12:30:00.000Z","timestamp":"2025-07-13T12:17:48.634Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-13T12:18:21.194Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-13T12:18:21.220Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-13T12:18:21.720Z"}
{"level":"info","message":"Summary generation scheduler started","timestamp":"2025-07-13T12:18:21.721Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-13T12:18:21.721Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-13T12:18:21.724Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-13T12:18:21.724Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-13T12:18:21.725Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-13T12:18:21.725Z"}
{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"level":"info","message":"ğŸ“… Scheduler status:","nextRun":"2025-07-13T12:30:00.000Z","timestamp":"2025-07-13T12:18:21.726Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-13T12:22:01.066Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-13T12:22:01.095Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-13T12:22:01.712Z"}
{"level":"info","message":"Summary generation scheduler started","timestamp":"2025-07-13T12:22:01.714Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-13T12:22:01.716Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-13T12:22:01.726Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-13T12:22:01.727Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-13T12:22:01.728Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-13T12:22:01.729Z"}
{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"level":"info","message":"ğŸ“… Scheduler status:","nextRun":"2025-07-13T12:30:00.000Z","timestamp":"2025-07-13T12:22:01.731Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-13T12:23:19.876Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-13T12:23:19.905Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-13T12:23:20.496Z"}
{"level":"info","message":"Summary generation scheduler started","timestamp":"2025-07-13T12:23:20.496Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-13T12:23:20.496Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-13T12:23:20.497Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-13T12:23:20.499Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-13T12:23:20.499Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-13T12:23:20.499Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-13T12:23:20.500Z"}
{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"level":"info","message":"ğŸ“… Scheduler status:","nextRun":"2025-07-13T12:30:00.000Z","timestamp":"2025-07-13T12:23:20.500Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-13T12:23:25.511Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-13T12:23:25.512Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-13T12:23:25.804Z"}
{"level":"info","message":"Summary sending results: 0 successful, 1 failed out of 1 total","timestamp":"2025-07-13T12:23:25.833Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries","timestamp":"2025-07-13T12:23:25.833Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 323ms ===","timestamp":"2025-07-13T12:23:25.834Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-15T15:15:56.917Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-15T15:15:57.037Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-15T15:15:58.010Z"}
{"level":"info","message":"Summary generation scheduler started","timestamp":"2025-07-15T15:15:58.011Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-15T15:15:58.012Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-15T15:15:58.014Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-15T15:15:58.020Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-15T15:15:58.022Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-15T15:15:58.024Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-15T15:15:58.025Z"}
{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"level":"info","message":"ğŸ“… Scheduler status:","nextRun":"2025-07-15T18:30:00.000Z","timestamp":"2025-07-15T15:15:58.027Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-15T15:16:03.028Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-15T15:16:03.029Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-15T15:16:03.489Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-15T15:16:03.490Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-15T15:16:03.490Z"}
{"level":"info","message":"Summary sending results: 0 successful, 1 failed out of 1 total","timestamp":"2025-07-15T15:16:03.683Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries","timestamp":"2025-07-15T15:16:03.684Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 657ms ===","timestamp":"2025-07-15T15:16:03.685Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-15T15:50:08.223Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-15T15:50:08.287Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-15T15:50:09.060Z"}
{"level":"info","message":"Summary generation scheduler started","timestamp":"2025-07-15T15:50:09.062Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-15T15:50:09.064Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-15T15:50:09.065Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-15T15:50:09.075Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-15T15:50:09.076Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-15T15:50:09.078Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-15T15:50:09.079Z"}
{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"level":"info","message":"ğŸ“… Scheduler status:","nextRun":"2025-07-15T18:30:00.000Z","timestamp":"2025-07-15T15:50:09.081Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T10:53:56.718Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T10:53:56.786Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T10:53:56.786Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T10:53:56.789Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T10:53:57.650Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T10:53:57.651Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T10:53:57.651Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T10:53:57.651Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T10:53:57.664Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T10:53:57.665Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T10:53:57.665Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T10:53:57.665Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T12:30:00.000Z"},"timestamp":"2025-07-17T10:53:57.666Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-17T10:54:02.655Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-17T10:54:02.656Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T10:54:03.188Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T10:54:03.189Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-17T10:54:03.189Z"}
{"level":"info","message":"Created batch tracker for batch: batch_1752749642657_6878d64a3a234268f803993f with 1 expected summaries","timestamp":"2025-07-17T10:54:03.248Z"}
{"level":"info","message":"Starting to send 1 summaries sequentially with 2-second delays","timestamp":"2025-07-17T10:54:03.248Z"}
{"level":"info","message":"All 1 summary requests have been sent","timestamp":"2025-07-17T10:54:03.250Z"}
{"level":"info","message":"Making POST request to: /summaries","timestamp":"2025-07-17T10:54:03.250Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries for batch: batch_1752749642657_6878d64a3a234268f803993f","timestamp":"2025-07-17T10:54:03.250Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 612ms ===","timestamp":"2025-07-17T10:54:03.267Z"}
{"level":"error","message":"Network Error - No response received for URL: /summaries","timestamp":"2025-07-17T10:54:03.273Z"}
{"level":"error","message":"Error sending summary for user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752749642657_6878d64a3a234268f803993f:","timestamp":"2025-07-17T10:54:03.275Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T11:52:18.811Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T11:52:18.877Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T11:52:18.878Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T11:52:18.880Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T11:52:19.521Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T11:52:19.524Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T11:52:19.525Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T11:52:19.526Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T11:52:19.541Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T11:52:19.542Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T11:52:19.542Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T11:52:19.543Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T12:30:00.000Z"},"timestamp":"2025-07-17T11:52:19.543Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-17T11:52:24.542Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-17T11:52:24.544Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T11:52:24.942Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T11:52:24.944Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-17T11:52:24.944Z"}
{"level":"info","message":"Created batch tracker for batch: batch_1752753144545_6878e3f8e250c1d0199fd88d with 1 expected summaries","timestamp":"2025-07-17T11:52:25.025Z"}
{"level":"info","message":"Starting to send 1 summaries sequentially with 2-second delays","timestamp":"2025-07-17T11:52:25.026Z"}
{"level":"info","message":"All 1 summary requests have been sent","timestamp":"2025-07-17T11:52:25.028Z"}
{"level":"info","message":"Making POST request to: /summarize","timestamp":"2025-07-17T11:52:25.028Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries for batch: batch_1752753144545_6878e3f8e250c1d0199fd88d","timestamp":"2025-07-17T11:52:25.029Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 504ms ===","timestamp":"2025-07-17T11:52:25.046Z"}
{"level":"info","message":"Response received from /summarize - Status: 200 - Duration: 3835ms","timestamp":"2025-07-17T11:52:28.864Z"}
{"level":"info","message":"Summary request sent for user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752753144545_6878e3f8e250c1d0199fd88d","timestamp":"2025-07-17T11:52:28.864Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T11:54:47.703Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T11:54:47.735Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T11:54:47.735Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T11:54:47.738Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T11:54:48.345Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T11:54:48.347Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T11:54:48.347Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T11:54:48.348Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T11:54:48.352Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T11:54:48.352Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T11:54:48.353Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T11:54:48.353Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T12:30:00.000Z"},"timestamp":"2025-07-17T11:54:48.354Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-17T11:54:53.362Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-17T11:54:53.363Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T11:54:53.722Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T11:54:53.723Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-17T11:54:53.723Z"}
{"level":"info","message":"Created batch tracker for batch: batch_1752753293363_6878e48d60a61179cfd58c3c with 1 expected summaries","timestamp":"2025-07-17T11:54:53.764Z"}
{"level":"info","message":"Starting to send 1 summaries sequentially with 2-second delays","timestamp":"2025-07-17T11:54:53.765Z"}
{"level":"info","message":"All 1 summary requests have been sent","timestamp":"2025-07-17T11:54:53.767Z"}
{"level":"info","message":"Making POST request to: /summarize","timestamp":"2025-07-17T11:54:53.767Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries for batch: batch_1752753293363_6878e48d60a61179cfd58c3c","timestamp":"2025-07-17T11:54:53.767Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 410ms ===","timestamp":"2025-07-17T11:54:53.772Z"}
{"level":"info","message":"Response received from /summarize - Status: 200 - Duration: 3788ms","timestamp":"2025-07-17T11:54:57.555Z"}
{"level":"info","message":"Summary request sent for user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752753293363_6878e48d60a61179cfd58c3c","timestamp":"2025-07-17T11:54:57.555Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T11:55:00.030Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T11:55:00.031Z"}
{"level":"info","message":"Found 1 timed-out batches to process","timestamp":"2025-07-17T11:55:00.072Z"}
{"level":"warn","message":"Batch batch_1752749642657_6878d64a3a234268f803993f timed out after 30 minutes. Received 0/1 summaries (0.0%)","timestamp":"2025-07-17T11:55:00.072Z"}
{"level":"error","message":"Batch batch_1752749642657_6878d64a3a234268f803993f failed - no summaries received within timeout period","timestamp":"2025-07-17T11:55:00.119Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T11:55:00.153Z"}
{"level":"info","message":"Processing 0 pending audio generation retries","timestamp":"2025-07-17T11:55:00.188Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T11:55:00.234Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T11:55:00.235Z"}
{"level":"info","message":"=== Completed batch maintenance task in 206ms ===","timestamp":"2025-07-17T11:55:00.236Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T11:57:23.242Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T11:57:23.269Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T11:57:23.271Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T11:57:23.274Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T11:57:23.940Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T11:57:23.942Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T11:57:23.943Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T11:57:23.943Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T11:57:23.949Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T11:57:23.950Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T11:57:23.951Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T11:57:23.952Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T12:30:00.000Z"},"timestamp":"2025-07-17T11:57:23.953Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-17T11:57:28.951Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-17T11:57:28.952Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T11:57:29.284Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T11:57:29.285Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-17T11:57:29.286Z"}
{"level":"info","message":"Created batch tracker for batch: batch_1752753448953_6878e52814d3bda9e8d7a32b with 1 expected summaries","timestamp":"2025-07-17T11:57:29.330Z"}
{"level":"info","message":"Starting to send 1 summaries sequentially with 2-second delays","timestamp":"2025-07-17T11:57:29.331Z"}
{"level":"info","message":"All 1 summary requests have been sent","timestamp":"2025-07-17T11:57:29.333Z"}
{"level":"info","message":"Making POST request to: /summarize","timestamp":"2025-07-17T11:57:29.333Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries for batch: batch_1752753448953_6878e52814d3bda9e8d7a32b","timestamp":"2025-07-17T11:57:29.333Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 388ms ===","timestamp":"2025-07-17T11:57:29.339Z"}
{"level":"info","message":"Response received from /summarize - Status: 200 - Duration: 1767ms","timestamp":"2025-07-17T11:57:31.100Z"}
{"level":"info","message":"Summary request sent for user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752753448953_6878e52814d3bda9e8d7a32b","timestamp":"2025-07-17T11:57:31.101Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-17T12:00:00.038Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-17T12:00:00.039Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T12:00:00.043Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T12:00:00.044Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T12:00:00.083Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T12:00:00.121Z"}
{"level":"info","message":"Processing 0 pending audio generation retries","timestamp":"2025-07-17T12:00:00.158Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T12:00:00.206Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T12:00:00.207Z"}
{"level":"info","message":"=== Completed batch maintenance task in 164ms ===","timestamp":"2025-07-17T12:00:00.207Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T12:00:00.336Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T12:00:00.336Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-17T12:00:00.337Z"}
{"level":"info","message":"Created batch tracker for batch: batch_1752753600039_6878e5c014d3bda9e8d7a337 with 1 expected summaries","timestamp":"2025-07-17T12:00:00.375Z"}
{"level":"info","message":"Starting to send 1 summaries sequentially with 2-second delays","timestamp":"2025-07-17T12:00:00.376Z"}
{"level":"info","message":"All 1 summary requests have been sent","timestamp":"2025-07-17T12:00:00.376Z"}
{"level":"info","message":"Making POST request to: /summarize","timestamp":"2025-07-17T12:00:00.376Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries for batch: batch_1752753600039_6878e5c014d3bda9e8d7a337","timestamp":"2025-07-17T12:00:00.377Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 341ms ===","timestamp":"2025-07-17T12:00:00.379Z"}
{"level":"info","message":"Response received from /summarize - Status: 200 - Duration: 6325ms","timestamp":"2025-07-17T12:00:06.702Z"}
{"level":"info","message":"Summary request sent for user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752753600039_6878e5c014d3bda9e8d7a337","timestamp":"2025-07-17T12:00:06.702Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T12:00:10.694Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T12:00:10.763Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T12:00:10.764Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T12:00:10.767Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T12:00:11.481Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T12:00:11.482Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T12:00:11.482Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T12:00:11.482Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T12:00:11.486Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T12:00:11.487Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T12:00:11.487Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T12:00:11.487Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T12:30:00.000Z"},"timestamp":"2025-07-17T12:00:11.488Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-17T12:00:16.491Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-17T12:00:16.492Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T12:00:16.808Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T12:00:16.809Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-17T12:00:16.809Z"}
{"level":"info","message":"Created batch tracker for batch: batch_1752753616493_6878e5d0f6ee65aff53cda1e with 1 expected summaries","timestamp":"2025-07-17T12:00:16.851Z"}
{"level":"info","message":"Starting to send 1 summaries sequentially with 2-second delays","timestamp":"2025-07-17T12:00:16.853Z"}
{"level":"info","message":"All 1 summary requests have been sent","timestamp":"2025-07-17T12:00:16.854Z"}
{"level":"info","message":"Making POST request to: /summarize","timestamp":"2025-07-17T12:00:16.855Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries for batch: batch_1752753616493_6878e5d0f6ee65aff53cda1e","timestamp":"2025-07-17T12:00:16.855Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 376ms ===","timestamp":"2025-07-17T12:00:16.867Z"}
{"level":"info","message":"Response received from /summarize - Status: 200 - Duration: 2302ms","timestamp":"2025-07-17T12:00:19.157Z"}
{"level":"info","message":"Summary request sent for user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752753616493_6878e5d0f6ee65aff53cda1e","timestamp":"2025-07-17T12:00:19.157Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T12:00:47.198Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T12:00:47.232Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T12:00:47.234Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T12:00:47.239Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T12:00:47.781Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T12:00:47.783Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T12:00:47.784Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T12:00:47.786Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T12:00:47.792Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T12:00:47.792Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T12:00:47.792Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T12:00:47.793Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T12:30:00.000Z"},"timestamp":"2025-07-17T12:00:47.793Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-17T12:00:52.790Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-17T12:00:52.790Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T12:00:53.137Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T12:00:53.138Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-17T12:00:53.138Z"}
{"level":"info","message":"Created batch tracker for batch: batch_1752753652792_6878e5f4a0ac8cafe4a549ae with 1 expected summaries","timestamp":"2025-07-17T12:00:53.191Z"}
{"level":"info","message":"Starting to send 1 summaries sequentially with 2-second delays","timestamp":"2025-07-17T12:00:53.192Z"}
{"level":"info","message":"All 1 summary requests have been sent","timestamp":"2025-07-17T12:00:53.198Z"}
{"level":"info","message":"Making POST request to: /summarize","timestamp":"2025-07-17T12:00:53.199Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries for batch: batch_1752753652792_6878e5f4a0ac8cafe4a549ae","timestamp":"2025-07-17T12:00:53.200Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 435ms ===","timestamp":"2025-07-17T12:00:53.225Z"}
{"level":"info","message":"Response received from /summarize - Status: 200 - Duration: 1996ms","timestamp":"2025-07-17T12:00:55.196Z"}
{"level":"info","message":"Summary request sent for user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752753652792_6878e5f4a0ac8cafe4a549ae","timestamp":"2025-07-17T12:00:55.197Z"}
{"level":"info","message":"Batch batch_1752753652792_6878e5f4a0ac8cafe4a549ae: 1/1 received (100.0%)","timestamp":"2025-07-17T12:00:55.585Z"}
{"level":"info","message":"Batch batch_1752753652792_6878e5f4a0ac8cafe4a549ae reached 50% completion, triggering partial audio generation","timestamp":"2025-07-17T12:00:55.586Z"}
{"level":"info","message":"Triggering audio generation for batch: batch_1752753652792_6878e5f4a0ac8cafe4a549ae","timestamp":"2025-07-17T12:00:55.626Z"}
{"level":"warn","message":"No summaries found for batch: batch_1752753652792_6878e5f4a0ac8cafe4a549ae","timestamp":"2025-07-17T12:00:55.664Z"}
{"level":"info","message":"Batch batch_1752753652792_6878e5f4a0ac8cafe4a549ae fully completed, checking if audio generation is needed","timestamp":"2025-07-17T12:00:55.707Z"}
{"level":"info","message":"Triggering audio generation for batch: batch_1752753652792_6878e5f4a0ac8cafe4a549ae","timestamp":"2025-07-17T12:00:55.747Z"}
{"level":"warn","message":"No summaries found for batch: batch_1752753652792_6878e5f4a0ac8cafe4a549ae","timestamp":"2025-07-17T12:00:55.783Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T12:02:44.418Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T12:02:44.445Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T12:02:44.446Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T12:02:44.451Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T12:02:45.054Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T12:02:45.057Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T12:02:45.058Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T12:02:45.059Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T12:02:45.065Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T12:02:45.066Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T12:02:45.066Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T12:02:45.067Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T12:30:00.000Z"},"timestamp":"2025-07-17T12:02:45.068Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-17T12:02:50.060Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-17T12:02:50.061Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T12:02:50.397Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T12:02:50.397Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-17T12:02:50.397Z"}
{"level":"info","message":"Created batch tracker for batch: batch_1752753770062_6878e66a352664ff1c7cb23c with 1 expected summaries","timestamp":"2025-07-17T12:02:50.437Z"}
{"level":"info","message":"Starting to send 1 summaries sequentially with 2-second delays","timestamp":"2025-07-17T12:02:50.439Z"}
{"level":"info","message":"All 1 summary requests have been sent","timestamp":"2025-07-17T12:02:50.444Z"}
{"level":"info","message":"Making POST request to: /summarize","timestamp":"2025-07-17T12:02:50.445Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries for batch: batch_1752753770062_6878e66a352664ff1c7cb23c","timestamp":"2025-07-17T12:02:50.446Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 403ms ===","timestamp":"2025-07-17T12:02:50.463Z"}
{"level":"info","message":"Response received from /summarize - Status: 200 - Duration: 1832ms","timestamp":"2025-07-17T12:02:52.278Z"}
{"level":"info","message":"Summary request sent for user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752753770062_6878e66a352664ff1c7cb23c","timestamp":"2025-07-17T12:02:52.278Z"}
{"level":"info","message":"Batch batch_1752753770062_6878e66a352664ff1c7cb23c: 1/1 received (100.0%)","timestamp":"2025-07-17T12:02:52.688Z"}
{"level":"info","message":"Batch batch_1752753770062_6878e66a352664ff1c7cb23c reached 50% completion, triggering partial audio generation","timestamp":"2025-07-17T12:02:52.690Z"}
{"level":"info","message":"Triggering audio generation for batch: batch_1752753770062_6878e66a352664ff1c7cb23c","timestamp":"2025-07-17T12:02:52.733Z"}
{"level":"warn","message":"No summaries found for batch: batch_1752753770062_6878e66a352664ff1c7cb23c","timestamp":"2025-07-17T12:02:52.772Z"}
{"level":"info","message":"Batch batch_1752753770062_6878e66a352664ff1c7cb23c fully completed, checking if audio generation is needed","timestamp":"2025-07-17T12:02:52.812Z"}
{"level":"info","message":"Triggering audio generation for batch: batch_1752753770062_6878e66a352664ff1c7cb23c","timestamp":"2025-07-17T12:02:52.848Z"}
{"level":"warn","message":"No summaries found for batch: batch_1752753770062_6878e66a352664ff1c7cb23c","timestamp":"2025-07-17T12:02:52.881Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T12:05:00.017Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T12:05:00.017Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T12:05:00.050Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T12:05:00.097Z"}
{"level":"info","message":"Processing 0 pending audio generation retries","timestamp":"2025-07-17T12:05:00.131Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T12:05:00.168Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T12:05:00.168Z"}
{"level":"info","message":"=== Completed batch maintenance task in 153ms ===","timestamp":"2025-07-17T12:05:00.169Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T12:10:00.023Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T12:10:00.023Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T12:10:00.057Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T12:10:00.089Z"}
{"level":"info","message":"Processing 0 pending audio generation retries","timestamp":"2025-07-17T12:10:00.122Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T12:10:00.157Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T12:10:00.157Z"}
{"level":"info","message":"=== Completed batch maintenance task in 135ms ===","timestamp":"2025-07-17T12:10:00.158Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T12:15:00.018Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T12:15:00.018Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T12:15:00.050Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T12:15:00.084Z"}
{"level":"info","message":"Processing 0 pending audio generation retries","timestamp":"2025-07-17T12:15:00.118Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T12:15:00.151Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T12:15:00.152Z"}
{"level":"info","message":"=== Completed batch maintenance task in 134ms ===","timestamp":"2025-07-17T12:15:00.152Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T12:15:55.542Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T12:15:55.611Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T12:15:55.611Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T12:15:55.614Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T12:15:56.240Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T12:15:56.242Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T12:15:56.243Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T12:15:56.244Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T12:15:56.264Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T12:15:56.265Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T12:15:56.265Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T12:15:56.265Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T12:30:00.000Z"},"timestamp":"2025-07-17T12:15:56.266Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-17T12:16:01.252Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-17T12:16:01.253Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T12:16:01.620Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T12:16:01.621Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-17T12:16:01.621Z"}
{"level":"info","message":"Created batch tracker for batch: batch_1752754561254_6878e9813d899bbb62b629f7 with 1 expected summaries","timestamp":"2025-07-17T12:16:01.666Z"}
{"level":"info","message":"Starting to send 1 summaries sequentially with 2-second delays","timestamp":"2025-07-17T12:16:01.667Z"}
{"level":"info","message":"All 1 summary requests have been sent","timestamp":"2025-07-17T12:16:01.668Z"}
{"level":"info","message":"Making POST request to: /summarize","timestamp":"2025-07-17T12:16:01.668Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries for batch: batch_1752754561254_6878e9813d899bbb62b629f7","timestamp":"2025-07-17T12:16:01.669Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 434ms ===","timestamp":"2025-07-17T12:16:01.686Z"}
{"level":"info","message":"Response received from /summarize - Status: 200 - Duration: 3253ms","timestamp":"2025-07-17T12:16:04.922Z"}
{"level":"info","message":"Summary request sent for user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752754561254_6878e9813d899bbb62b629f7","timestamp":"2025-07-17T12:16:04.923Z"}
{"level":"info","message":"Batch batch_1752754561254_6878e9813d899bbb62b629f7: 1/1 received (100.0%)","timestamp":"2025-07-17T12:16:05.448Z"}
{"level":"info","message":"Batch batch_1752754561254_6878e9813d899bbb62b629f7 reached 50% completion, triggering partial audio generation","timestamp":"2025-07-17T12:16:05.450Z"}
{"level":"info","message":"Triggering audio generation for batch: batch_1752754561254_6878e9813d899bbb62b629f7","timestamp":"2025-07-17T12:16:05.490Z"}
{"level":"warn","message":"No summaries found for batch: batch_1752754561254_6878e9813d899bbb62b629f7","timestamp":"2025-07-17T12:16:05.526Z"}
{"level":"info","message":"Batch batch_1752754561254_6878e9813d899bbb62b629f7 fully completed, checking if audio generation is needed","timestamp":"2025-07-17T12:16:05.568Z"}
{"level":"info","message":"Triggering audio generation for batch: batch_1752754561254_6878e9813d899bbb62b629f7","timestamp":"2025-07-17T12:16:05.610Z"}
{"level":"warn","message":"No summaries found for batch: batch_1752754561254_6878e9813d899bbb62b629f7","timestamp":"2025-07-17T12:16:05.651Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T12:20:00.024Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T12:20:00.025Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T12:20:00.067Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T12:20:00.105Z"}
{"level":"info","message":"Processing 0 pending audio generation retries","timestamp":"2025-07-17T12:20:00.142Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T12:20:00.182Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T12:20:00.184Z"}
{"level":"info","message":"=== Completed batch maintenance task in 161ms ===","timestamp":"2025-07-17T12:20:00.185Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T12:25:00.031Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T12:25:00.031Z"}
{"level":"info","message":"Found 2 timed-out batches to process","timestamp":"2025-07-17T12:25:00.137Z"}
{"level":"warn","message":"Batch batch_1752753144545_6878e3f8e250c1d0199fd88d timed out after 30 minutes. Received 0/1 summaries (0.0%)","timestamp":"2025-07-17T12:25:00.138Z"}
{"level":"error","message":"Batch batch_1752753144545_6878e3f8e250c1d0199fd88d failed - no summaries received within timeout period","timestamp":"2025-07-17T12:25:00.207Z"}
{"level":"warn","message":"Batch batch_1752753293363_6878e48d60a61179cfd58c3c timed out after 30 minutes. Received 0/1 summaries (0.0%)","timestamp":"2025-07-17T12:25:00.208Z"}
{"level":"error","message":"Batch batch_1752753293363_6878e48d60a61179cfd58c3c failed - no summaries received within timeout period","timestamp":"2025-07-17T12:25:00.282Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T12:25:00.326Z"}
{"level":"info","message":"Processing 0 pending audio generation retries","timestamp":"2025-07-17T12:25:00.391Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T12:25:00.450Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T12:25:00.450Z"}
{"level":"info","message":"=== Completed batch maintenance task in 420ms ===","timestamp":"2025-07-17T12:25:00.451Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T12:29:41.235Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T12:29:41.278Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T12:29:41.279Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T12:29:41.282Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T12:29:41.985Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T12:29:41.985Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T12:29:41.986Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T12:29:41.986Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T12:29:41.989Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T12:29:41.990Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T12:29:41.990Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T12:29:41.990Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T12:30:00.000Z"},"timestamp":"2025-07-17T12:29:41.991Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-17T12:29:46.990Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-17T12:29:46.991Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T12:29:47.334Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T12:29:47.335Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-17T12:29:47.335Z"}
{"level":"info","message":"Created batch tracker for batch: batch_1752755386991_6878ecbac8e9d1c3845361d5 with 1 expected summaries","timestamp":"2025-07-17T12:29:47.389Z"}
{"level":"info","message":"Starting to send 1 summaries sequentially with 2-second delays","timestamp":"2025-07-17T12:29:47.390Z"}
{"level":"info","message":"All 1 summary requests have been sent","timestamp":"2025-07-17T12:29:47.392Z"}
{"level":"info","message":"Making POST request to: /summarize","timestamp":"2025-07-17T12:29:47.393Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries for batch: batch_1752755386991_6878ecbac8e9d1c3845361d5","timestamp":"2025-07-17T12:29:47.393Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 410ms ===","timestamp":"2025-07-17T12:29:47.400Z"}
{"level":"info","message":"Response received from /summarize - Status: 200 - Duration: 1600ms","timestamp":"2025-07-17T12:29:48.993Z"}
{"level":"info","message":"Summary request sent for user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752755386991_6878ecbac8e9d1c3845361d5","timestamp":"2025-07-17T12:29:48.993Z"}
{"level":"info","message":"Batch batch_1752755386991_6878ecbac8e9d1c3845361d5: 1/1 received (100.0%)","timestamp":"2025-07-17T12:29:49.680Z"}
{"level":"info","message":"Batch batch_1752755386991_6878ecbac8e9d1c3845361d5 reached 50% completion, triggering partial audio generation","timestamp":"2025-07-17T12:29:49.682Z"}
{"level":"info","message":"Triggering audio generation for batch: batch_1752755386991_6878ecbac8e9d1c3845361d5","timestamp":"2025-07-17T12:29:49.729Z"}
{"level":"warn","message":"No summaries found for batch: batch_1752755386991_6878ecbac8e9d1c3845361d5","timestamp":"2025-07-17T12:29:49.767Z"}
{"level":"info","message":"Batch batch_1752755386991_6878ecbac8e9d1c3845361d5 fully completed, checking if audio generation is needed","timestamp":"2025-07-17T12:29:49.816Z"}
{"level":"info","message":"Triggering audio generation for batch: batch_1752755386991_6878ecbac8e9d1c3845361d5","timestamp":"2025-07-17T12:29:49.857Z"}
{"level":"warn","message":"No summaries found for batch: batch_1752755386991_6878ecbac8e9d1c3845361d5","timestamp":"2025-07-17T12:29:49.907Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T12:30:00.024Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T12:30:00.024Z"}
{"level":"info","message":"Found 1 timed-out batches to process","timestamp":"2025-07-17T12:30:00.061Z"}
{"level":"warn","message":"Batch batch_1752753448953_6878e52814d3bda9e8d7a32b timed out after 30 minutes. Received 0/1 summaries (0.0%)","timestamp":"2025-07-17T12:30:00.062Z"}
{"level":"error","message":"Batch batch_1752753448953_6878e52814d3bda9e8d7a32b failed - no summaries received within timeout period","timestamp":"2025-07-17T12:30:00.102Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T12:30:00.141Z"}
{"level":"error","message":"Error in periodic maintenance: audioGenerationService.processPendingRetries is not a function","stack":"TypeError: audioGenerationService.processPendingRetries is not a function\n    at BatchTimeoutService.runPeriodicMaintenance (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\src\\services\\batchTimeoutService.ts:202:42)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async SchedulerService.executeBatchMaintenanceTask (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\src\\schedulers\\scheduler.ts:116:13)\n    at async batchMaintenanceTask.cron.schedule.timezone (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\src\\schedulers\\scheduler.ts:55:17)\n    at async Timeout._onTimeout (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\node-cron\\src\\scheduler\\runner.ts:100:30)","timestamp":"2025-07-17T12:30:00.144Z"}
{"level":"info","message":"=== Completed batch maintenance task in 121ms ===","timestamp":"2025-07-17T12:30:00.145Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T12:34:44.063Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T12:34:44.093Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T12:34:44.095Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T12:34:44.098Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T12:34:44.697Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T12:34:44.699Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T12:34:44.700Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T12:34:44.701Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T12:34:44.708Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T12:34:44.709Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T12:34:44.709Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T12:34:44.710Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T18:30:00.000Z"},"timestamp":"2025-07-17T12:34:44.710Z"}
{"level":"info","message":"Received SIGINT, starting graceful shutdown...","timestamp":"2025-07-17T12:34:47.296Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers stopped","timestamp":"2025-07-17T12:34:47.299Z"}
{"level":"info","message":"Scheduler stopped","timestamp":"2025-07-17T12:34:47.299Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T12:56:50.071Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T12:56:50.141Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T12:56:50.142Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T12:56:50.145Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T12:56:50.928Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T12:56:50.929Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T12:56:50.930Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T12:56:50.931Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T12:56:50.948Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T12:56:50.949Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T12:56:50.950Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T12:56:50.950Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T18:30:00.000Z"},"timestamp":"2025-07-17T12:56:50.952Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-17T12:56:55.933Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-17T12:56:55.935Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T12:56:56.288Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T12:56:56.289Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-17T12:56:56.289Z"}
{"level":"info","message":"Created batch tracker for batch: batch_1752757015936_6878f31720496013a0b62846 with 1 expected summaries","timestamp":"2025-07-17T12:56:56.332Z"}
{"level":"info","message":"Starting to send 1 summaries sequentially with 2-second delays","timestamp":"2025-07-17T12:56:56.332Z"}
{"level":"info","message":"All 1 summary requests have been sent","timestamp":"2025-07-17T12:56:56.334Z"}
{"level":"info","message":"Making POST request to: /summarize","timestamp":"2025-07-17T12:56:56.334Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries for batch: batch_1752757015936_6878f31720496013a0b62846","timestamp":"2025-07-17T12:56:56.334Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 408ms ===","timestamp":"2025-07-17T12:56:56.341Z"}
{"level":"info","message":"Response received from /summarize - Status: 200 - Duration: 3042ms","timestamp":"2025-07-17T12:56:59.376Z"}
{"level":"info","message":"Summary request sent for user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752757015936_6878f31720496013a0b62846","timestamp":"2025-07-17T12:56:59.376Z"}
{"level":"info","message":"Batch batch_1752757015936_6878f31720496013a0b62846: 1/1 received (100.0%)","timestamp":"2025-07-17T12:56:59.872Z"}
{"level":"info","message":"Batch batch_1752757015936_6878f31720496013a0b62846 reached 50% completion, triggering partial audio generation","timestamp":"2025-07-17T12:56:59.873Z"}
{"level":"info","message":"Triggering audio generation for batch: batch_1752757015936_6878f31720496013a0b62846","timestamp":"2025-07-17T12:56:59.918Z"}
{"level":"warn","message":"No summaries found for batch: batch_1752757015936_6878f31720496013a0b62846","timestamp":"2025-07-17T12:56:59.957Z"}
{"level":"info","message":"Batch batch_1752757015936_6878f31720496013a0b62846 fully completed, checking if audio generation is needed","timestamp":"2025-07-17T12:56:59.999Z"}
{"level":"info","message":"Triggering audio generation for batch: batch_1752757015936_6878f31720496013a0b62846","timestamp":"2025-07-17T12:57:00.040Z"}
{"level":"warn","message":"No summaries found for batch: batch_1752757015936_6878f31720496013a0b62846","timestamp":"2025-07-17T12:57:00.076Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T13:00:00.021Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T13:00:00.021Z"}
{"level":"info","message":"Found 2 timed-out batches to process","timestamp":"2025-07-17T13:00:00.061Z"}
{"level":"warn","message":"Batch batch_1752753600039_6878e5c014d3bda9e8d7a337 timed out after 30 minutes. Received 0/1 summaries (0.0%)","timestamp":"2025-07-17T13:00:00.063Z"}
{"level":"error","message":"Batch batch_1752753600039_6878e5c014d3bda9e8d7a337 failed - no summaries received within timeout period","timestamp":"2025-07-17T13:00:00.114Z"}
{"level":"warn","message":"Batch batch_1752753616493_6878e5d0f6ee65aff53cda1e timed out after 30 minutes. Received 0/1 summaries (0.0%)","timestamp":"2025-07-17T13:00:00.141Z"}
{"level":"error","message":"Batch batch_1752753616493_6878e5d0f6ee65aff53cda1e failed - no summaries received within timeout period","timestamp":"2025-07-17T13:00:00.183Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T13:00:00.222Z"}
{"level":"error","message":"Error in periodic maintenance: audioGenerationService.processPendingRetries is not a function","stack":"TypeError: audioGenerationService.processPendingRetries is not a function\n    at BatchTimeoutService.runPeriodicMaintenance (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\src\\services\\batchTimeoutService.ts:202:42)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async SchedulerService.executeBatchMaintenanceTask (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\src\\schedulers\\scheduler.ts:116:13)\n    at async batchMaintenanceTask.cron.schedule.timezone (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\src\\schedulers\\scheduler.ts:55:17)\n    at async Timeout._onTimeout (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\node-cron\\src\\scheduler\\runner.ts:100:30)","timestamp":"2025-07-17T13:00:00.226Z"}
{"level":"info","message":"=== Completed batch maintenance task in 206ms ===","timestamp":"2025-07-17T13:00:00.227Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T13:05:00.033Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T13:05:00.034Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T13:05:00.072Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T13:05:00.110Z"}
{"level":"error","message":"Error in periodic maintenance: audioGenerationService.processPendingRetries is not a function","stack":"TypeError: audioGenerationService.processPendingRetries is not a function\n    at BatchTimeoutService.runPeriodicMaintenance (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\src\\services\\batchTimeoutService.ts:202:42)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async SchedulerService.executeBatchMaintenanceTask (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\src\\schedulers\\scheduler.ts:116:13)\n    at async batchMaintenanceTask.cron.schedule.timezone (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\src\\schedulers\\scheduler.ts:55:17)\n    at async Timeout._onTimeout (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\node-cron\\src\\scheduler\\runner.ts:100:30)","timestamp":"2025-07-17T13:05:00.111Z"}
{"level":"info","message":"=== Completed batch maintenance task in 78ms ===","timestamp":"2025-07-17T13:05:00.111Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T13:10:00.024Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T13:10:00.025Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T13:10:00.061Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T13:10:00.098Z"}
{"level":"error","message":"Error in periodic maintenance: audioGenerationService.processPendingRetries is not a function","stack":"TypeError: audioGenerationService.processPendingRetries is not a function\n    at BatchTimeoutService.runPeriodicMaintenance (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\src\\services\\batchTimeoutService.ts:202:42)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async SchedulerService.executeBatchMaintenanceTask (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\src\\schedulers\\scheduler.ts:116:13)\n    at async batchMaintenanceTask.cron.schedule.timezone (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\src\\schedulers\\scheduler.ts:55:17)\n    at async Timeout._onTimeout (C:\\Users\\Jorl-work\\Desktop\\Projects\\Daily-Drip\\summaryService\\node_modules\\node-cron\\src\\scheduler\\runner.ts:100:30)","timestamp":"2025-07-17T13:10:00.098Z"}
{"level":"info","message":"=== Completed batch maintenance task in 75ms ===","timestamp":"2025-07-17T13:10:00.099Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T13:11:52.412Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T13:11:52.448Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T13:11:52.449Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T13:11:52.456Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T13:11:53.110Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T13:11:53.111Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T13:11:53.111Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T13:11:53.111Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T13:11:53.114Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T13:11:53.115Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T13:11:53.115Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T13:11:53.116Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T18:30:00.000Z"},"timestamp":"2025-07-17T13:11:53.116Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T13:15:14.752Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T13:15:14.780Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T13:15:14.781Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T13:15:14.784Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T13:15:15.386Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T13:15:15.387Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T13:15:15.387Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T13:15:15.387Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T13:15:15.390Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T13:15:15.391Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T13:15:15.391Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T13:15:15.391Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T18:30:00.000Z"},"timestamp":"2025-07-17T13:15:15.392Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-17T13:15:20.390Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-17T13:15:20.390Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T13:15:20.717Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T13:15:20.718Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-17T13:15:20.719Z"}
{"level":"info","message":"Created batch tracker for batch: batch_1752758120390_6878f768b5abefbb01196c7b with 1 expected summaries","timestamp":"2025-07-17T13:15:20.765Z"}
{"level":"info","message":"Starting to send 1 summaries sequentially with 2-second delays","timestamp":"2025-07-17T13:15:20.765Z"}
{"level":"info","message":"All 1 summary requests have been sent","timestamp":"2025-07-17T13:15:20.767Z"}
{"level":"info","message":"Making POST request to: /summarize","timestamp":"2025-07-17T13:15:20.767Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries for batch: batch_1752758120390_6878f768b5abefbb01196c7b","timestamp":"2025-07-17T13:15:20.767Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 385ms ===","timestamp":"2025-07-17T13:15:20.774Z"}
{"level":"info","message":"Response received from /summarize - Status: 200 - Duration: 1318ms","timestamp":"2025-07-17T13:15:22.085Z"}
{"level":"info","message":"Summary request sent for user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752758120390_6878f768b5abefbb01196c7b","timestamp":"2025-07-17T13:15:22.085Z"}
{"level":"info","message":"Batch batch_1752758120390_6878f768b5abefbb01196c7b: 1/1 received (100.0%)","timestamp":"2025-07-17T13:15:22.485Z"}
{"level":"info","message":"Batch batch_1752758120390_6878f768b5abefbb01196c7b reached 50% completion, triggering partial audio generation","timestamp":"2025-07-17T13:15:22.487Z"}
{"level":"info","message":"Triggering audio generation for batch: batch_1752758120390_6878f768b5abefbb01196c7b","timestamp":"2025-07-17T13:15:22.531Z"}
{"level":"info","message":"Found 1 summaries for batch batch_1752758120390_6878f768b5abefbb01196c7b. Sending individually with delays.","timestamp":"2025-07-17T13:15:22.566Z"}
{"level":"info","message":"All 1 audio generation requests sent for batch: batch_1752758120390_6878f768b5abefbb01196c7b","timestamp":"2025-07-17T13:15:22.567Z"}
{"level":"info","message":"Making POST request to: /generate-audio","timestamp":"2025-07-17T13:15:22.567Z"}
{"level":"info","message":"Batch batch_1752758120390_6878f768b5abefbb01196c7b fully completed, checking if audio generation is needed","timestamp":"2025-07-17T13:15:22.608Z"}
{"level":"info","message":"Triggering audio generation for batch: batch_1752758120390_6878f768b5abefbb01196c7b","timestamp":"2025-07-17T13:15:22.648Z"}
{"level":"info","message":"Found 1 summaries for batch batch_1752758120390_6878f768b5abefbb01196c7b. Sending individually with delays.","timestamp":"2025-07-17T13:15:22.681Z"}
{"level":"info","message":"All 1 audio generation requests sent for batch: batch_1752758120390_6878f768b5abefbb01196c7b","timestamp":"2025-07-17T13:15:22.682Z"}
{"level":"info","message":"Making POST request to: /generate-audio","timestamp":"2025-07-17T13:15:22.682Z"}
{"level":"info","message":"Response received from /generate-audio - Status: 200 - Duration: 37359ms","timestamp":"2025-07-17T13:15:59.927Z"}
{"level":"info","message":"Audio generation request sent for summary 6878f76ab5abefbb01196c87, user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752758120390_6878f768b5abefbb01196c7b","timestamp":"2025-07-17T13:15:59.928Z"}
{"level":"info","message":"Response received from /generate-audio - Status: 200 - Duration: 38269ms","timestamp":"2025-07-17T13:16:00.951Z"}
{"level":"info","message":"Audio generation request sent for summary 6878f76ab5abefbb01196c87, user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752758120390_6878f768b5abefbb01196c7b","timestamp":"2025-07-17T13:16:00.952Z"}
{"level":"info","message":"Audio generation successful for batch batch_1752758120390_6878f768b5abefbb01196c7b, saving audio URL","timestamp":"2025-07-17T13:16:01.223Z"}
{"level":"info","message":"Audio generation successful for batch batch_1752758120390_6878f768b5abefbb01196c7b, saving audio URL","timestamp":"2025-07-17T13:16:01.227Z"}
{"level":"info","message":"Audio generation completed successfully for batch batch_1752758120390_6878f768b5abefbb01196c7b","timestamp":"2025-07-17T13:16:01.300Z"}
{"level":"info","message":"Audio generation completed successfully for batch batch_1752758120390_6878f768b5abefbb01196c7b","timestamp":"2025-07-17T13:16:01.325Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T13:20:00.031Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T13:20:00.032Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T13:20:00.070Z"}
{"level":"info","message":"Checking 6 failed batches for orphaned summaries","timestamp":"2025-07-17T13:20:00.108Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T13:20:00.366Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T13:20:00.416Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T13:20:00.416Z"}
{"level":"info","message":"=== Completed batch maintenance task in 385ms ===","timestamp":"2025-07-17T13:20:00.416Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T13:20:23.313Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T13:20:23.340Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T13:20:23.341Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T13:20:23.344Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T13:20:23.986Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T13:20:23.986Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T13:20:23.987Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T13:20:23.987Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T13:20:23.989Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T13:20:23.990Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T13:20:23.990Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T13:20:23.990Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T18:30:00.000Z"},"timestamp":"2025-07-17T13:20:23.990Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-17T13:20:29.000Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-17T13:20:29.001Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T13:20:29.523Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T13:20:29.524Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-17T13:20:29.524Z"}
{"level":"info","message":"Created batch tracker for batch: batch_1752758429001_6878f89dfb659b34995efd71 with 1 expected summaries","timestamp":"2025-07-17T13:20:29.586Z"}
{"level":"info","message":"Starting to send 1 summaries sequentially with 2-second delays","timestamp":"2025-07-17T13:20:29.586Z"}
{"level":"info","message":"All 1 summary requests have been sent","timestamp":"2025-07-17T13:20:29.588Z"}
{"level":"info","message":"Making POST request to: /summarize","timestamp":"2025-07-17T13:20:29.588Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries for batch: batch_1752758429001_6878f89dfb659b34995efd71","timestamp":"2025-07-17T13:20:29.588Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 595ms ===","timestamp":"2025-07-17T13:20:29.595Z"}
{"level":"info","message":"Response received from /summarize - Status: 200 - Duration: 1896ms","timestamp":"2025-07-17T13:20:31.484Z"}
{"level":"info","message":"Summary request sent for user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752758429001_6878f89dfb659b34995efd71","timestamp":"2025-07-17T13:20:31.484Z"}
{"level":"info","message":"Batch batch_1752758429001_6878f89dfb659b34995efd71: 1/1 received (100.0%)","timestamp":"2025-07-17T13:20:31.930Z"}
{"level":"info","message":"Batch batch_1752758429001_6878f89dfb659b34995efd71 reached 50% completion, triggering partial audio generation","timestamp":"2025-07-17T13:20:31.932Z"}
{"level":"info","message":"Triggering audio generation for batch: batch_1752758429001_6878f89dfb659b34995efd71","timestamp":"2025-07-17T13:20:31.970Z"}
{"level":"info","message":"Found 1 summaries for batch batch_1752758429001_6878f89dfb659b34995efd71. Sending individually with delays.","timestamp":"2025-07-17T13:20:32.003Z"}
{"level":"info","message":"All 1 audio generation requests sent for batch: batch_1752758429001_6878f89dfb659b34995efd71","timestamp":"2025-07-17T13:20:32.004Z"}
{"level":"info","message":"Making POST request to: /generate-audio","timestamp":"2025-07-17T13:20:32.005Z"}
{"level":"info","message":"Batch batch_1752758429001_6878f89dfb659b34995efd71 fully completed, checking if audio generation is needed","timestamp":"2025-07-17T13:20:32.050Z"}
{"level":"info","message":"Triggering audio generation for batch: batch_1752758429001_6878f89dfb659b34995efd71","timestamp":"2025-07-17T13:20:32.095Z"}
{"level":"info","message":"Found 1 summaries for batch batch_1752758429001_6878f89dfb659b34995efd71. Sending individually with delays.","timestamp":"2025-07-17T13:20:32.137Z"}
{"level":"info","message":"All 1 audio generation requests sent for batch: batch_1752758429001_6878f89dfb659b34995efd71","timestamp":"2025-07-17T13:20:32.138Z"}
{"level":"info","message":"Making POST request to: /generate-audio","timestamp":"2025-07-17T13:20:32.139Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T13:22:39.524Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T13:22:39.559Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T13:22:39.560Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T13:22:39.568Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T13:22:40.392Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T13:22:40.392Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T13:22:40.393Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T13:22:40.393Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T13:22:40.396Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T13:22:40.397Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T13:22:40.397Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T13:22:40.397Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T18:30:00.000Z"},"timestamp":"2025-07-17T13:22:40.398Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-17T13:22:45.400Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-17T13:22:45.400Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T13:22:45.715Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T13:22:45.716Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-17T13:22:45.717Z"}
{"level":"info","message":"Created batch tracker for batch: batch_1752758565401_6878f9258501a69d1e999774 with 1 expected summaries","timestamp":"2025-07-17T13:22:45.770Z"}
{"level":"info","message":"Starting to send 1 summaries sequentially with 2-second delays","timestamp":"2025-07-17T13:22:45.770Z"}
{"level":"info","message":"All 1 summary requests have been sent","timestamp":"2025-07-17T13:22:45.772Z"}
{"level":"info","message":"Making POST request to: /summarize","timestamp":"2025-07-17T13:22:45.772Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries for batch: batch_1752758565401_6878f9258501a69d1e999774","timestamp":"2025-07-17T13:22:45.772Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 379ms ===","timestamp":"2025-07-17T13:22:45.779Z"}
{"level":"info","message":"Response received from /summarize - Status: 200 - Duration: 1405ms","timestamp":"2025-07-17T13:22:47.177Z"}
{"level":"info","message":"Summary request sent for user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752758565401_6878f9258501a69d1e999774","timestamp":"2025-07-17T13:22:47.177Z"}
{"level":"info","message":"Batch batch_1752758565401_6878f9258501a69d1e999774: 1/1 received (100.0%)","timestamp":"2025-07-17T13:22:47.598Z"}
{"level":"info","message":"Batch batch_1752758565401_6878f9258501a69d1e999774 reached 50% completion, triggering partial audio generation","timestamp":"2025-07-17T13:22:47.599Z"}
{"level":"info","message":"Triggering audio generation for batch: batch_1752758565401_6878f9258501a69d1e999774","timestamp":"2025-07-17T13:22:47.636Z"}
{"level":"info","message":"Found 1 summaries for batch batch_1752758565401_6878f9258501a69d1e999774. Sending individually with delays.","timestamp":"2025-07-17T13:22:47.707Z"}
{"level":"info","message":"All 1 audio generation requests sent for batch: batch_1752758565401_6878f9258501a69d1e999774","timestamp":"2025-07-17T13:22:47.708Z"}
{"level":"info","message":"Making POST request to: /generate-audio","timestamp":"2025-07-17T13:22:47.709Z"}
{"level":"info","message":"Batch batch_1752758565401_6878f9258501a69d1e999774 fully completed, checking if audio generation is needed","timestamp":"2025-07-17T13:22:47.749Z"}
{"level":"info","message":"Batch batch_1752758565401_6878f9258501a69d1e999774 was already updated by another process, skipping full completion","timestamp":"2025-07-17T13:22:47.785Z"}
{"level":"info","message":"Response received from /generate-audio - Status: 200 - Duration: 22884ms","timestamp":"2025-07-17T13:23:10.593Z"}
{"level":"info","message":"Audio generation request sent for summary 6878f9278501a69d1e999780, user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752758565401_6878f9258501a69d1e999774","timestamp":"2025-07-17T13:23:10.595Z"}
{"level":"info","message":"Audio generation successful for batch batch_1752758565401_6878f9258501a69d1e999774, saving audio URL","timestamp":"2025-07-17T13:23:10.947Z"}
{"level":"info","message":"Audio generation completed successfully for batch batch_1752758565401_6878f9258501a69d1e999774","timestamp":"2025-07-17T13:23:11.023Z"}
{"level":"info","message":"Received SIGINT, starting graceful shutdown...","timestamp":"2025-07-17T13:24:38.178Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T13:30:40.485Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T13:30:40.561Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T13:30:40.561Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T13:30:40.564Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T13:30:41.314Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T13:30:41.315Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T13:30:41.316Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T13:30:41.316Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T13:30:41.321Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T13:30:41.324Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T13:30:41.325Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T13:30:41.325Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T18:30:00.000Z"},"timestamp":"2025-07-17T13:30:41.325Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-17T13:30:46.321Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-17T13:30:46.322Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T13:30:46.677Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T13:30:46.678Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-17T13:30:46.679Z"}
{"level":"info","message":"Created batch tracker for batch: batch_1752759046323_6878fb0606c0795312aab41c with 1 expected summaries","timestamp":"2025-07-17T13:30:46.739Z"}
{"level":"info","message":"Starting to send 1 summaries sequentially with 2-second delays","timestamp":"2025-07-17T13:30:46.740Z"}
{"level":"info","message":"All 1 summary requests have been sent","timestamp":"2025-07-17T13:30:46.741Z"}
{"level":"info","message":"Making POST request to: /summarize","timestamp":"2025-07-17T13:30:46.741Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries for batch: batch_1752759046323_6878fb0606c0795312aab41c","timestamp":"2025-07-17T13:30:46.742Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 428ms ===","timestamp":"2025-07-17T13:30:46.749Z"}
{"level":"info","message":"Response received from /summarize - Status: 200 - Duration: 3728ms","timestamp":"2025-07-17T13:30:50.470Z"}
{"level":"info","message":"Summary request sent for user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752759046323_6878fb0606c0795312aab41c","timestamp":"2025-07-17T13:30:50.473Z"}
{"level":"info","message":"Batch batch_1752759046323_6878fb0606c0795312aab41c: 1/1 received (100.0%)","timestamp":"2025-07-17T13:30:51.127Z"}
{"level":"info","message":"Batch batch_1752759046323_6878fb0606c0795312aab41c reached 50% completion, triggering partial audio generation","timestamp":"2025-07-17T13:30:51.172Z"}
{"level":"info","message":"Triggering audio generation for batch: batch_1752759046323_6878fb0606c0795312aab41c","timestamp":"2025-07-17T13:30:51.214Z"}
{"level":"info","message":"Found 1 summaries without audio for batch batch_1752759046323_6878fb0606c0795312aab41c. Sending individually with delays.","timestamp":"2025-07-17T13:30:51.326Z"}
{"level":"info","message":"All 1 audio generation requests sent for batch: batch_1752759046323_6878fb0606c0795312aab41c","timestamp":"2025-07-17T13:30:51.327Z"}
{"level":"info","message":"Making POST request to: /generate-audio","timestamp":"2025-07-17T13:30:51.328Z"}
{"level":"info","message":"Batch batch_1752759046323_6878fb0606c0795312aab41c fully completed, checking if audio generation is needed","timestamp":"2025-07-17T13:30:51.370Z"}
{"level":"info","message":"Batch batch_1752759046323_6878fb0606c0795312aab41c was already updated by another process, skipping full completion","timestamp":"2025-07-17T13:30:51.408Z"}
{"level":"info","message":"Response received from /generate-audio - Status: 200 - Duration: 24853ms","timestamp":"2025-07-17T13:31:16.181Z"}
{"level":"info","message":"Audio generation request sent for summary 6878fb0b06c0795312aab428, user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752759046323_6878fb0606c0795312aab41c","timestamp":"2025-07-17T13:31:16.182Z"}
{"level":"info","message":"Audio generation successful for summary 6878fb0b06c0795312aab428, user 322d223f-71e2-4b57-aa91-b17b637ca0a6","timestamp":"2025-07-17T13:31:16.566Z"}
{"level":"info","message":"Batch batch_1752759046323_6878fb0606c0795312aab41c audio progress: 1/1 summaries have audio generated","timestamp":"2025-07-17T13:31:16.760Z"}
{"level":"info","message":"All summaries in batch batch_1752759046323_6878fb0606c0795312aab41c have audio generated, marked batch as audio_complete","timestamp":"2025-07-17T13:31:16.799Z"}
{"level":"info","message":"Audio generation completed successfully for summary 6878fb0b06c0795312aab428","timestamp":"2025-07-17T13:31:16.799Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T13:35:00.057Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T13:35:00.058Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T13:35:00.096Z"}
{"level":"info","message":"Checking 6 failed batches for orphaned summaries","timestamp":"2025-07-17T13:35:00.143Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T13:35:00.412Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T13:35:00.462Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T13:35:00.463Z"}
{"level":"info","message":"=== Completed batch maintenance task in 406ms ===","timestamp":"2025-07-17T13:35:00.463Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T13:40:00.030Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T13:40:00.031Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T13:40:00.137Z"}
{"level":"info","message":"Checking 6 failed batches for orphaned summaries","timestamp":"2025-07-17T13:40:00.250Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T13:40:01.092Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T13:40:01.205Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T13:40:01.206Z"}
{"level":"info","message":"=== Completed batch maintenance task in 1176ms ===","timestamp":"2025-07-17T13:40:01.206Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T13:45:00.031Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T13:45:00.031Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T13:45:00.092Z"}
{"level":"info","message":"Checking 6 failed batches for orphaned summaries","timestamp":"2025-07-17T13:45:00.152Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T13:45:00.541Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T13:45:00.585Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T13:45:00.586Z"}
{"level":"info","message":"=== Completed batch maintenance task in 557ms ===","timestamp":"2025-07-17T13:45:00.588Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T13:50:00.029Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T13:50:00.030Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T13:50:00.071Z"}
{"level":"info","message":"Checking 6 failed batches for orphaned summaries","timestamp":"2025-07-17T13:50:00.113Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T13:50:00.407Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T13:50:00.450Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T13:50:00.451Z"}
{"level":"info","message":"=== Completed batch maintenance task in 423ms ===","timestamp":"2025-07-17T13:50:00.452Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T13:55:00.017Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T13:55:00.017Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T13:55:00.059Z"}
{"level":"info","message":"Checking 6 failed batches for orphaned summaries","timestamp":"2025-07-17T13:55:00.101Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T13:55:00.389Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T13:55:00.433Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T13:55:00.434Z"}
{"level":"info","message":"=== Completed batch maintenance task in 418ms ===","timestamp":"2025-07-17T13:55:00.435Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T14:00:00.030Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T14:00:00.030Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T14:00:00.066Z"}
{"level":"info","message":"Checking 6 failed batches for orphaned summaries","timestamp":"2025-07-17T14:00:00.104Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T14:00:00.359Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T14:00:00.396Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T14:00:00.397Z"}
{"level":"info","message":"=== Completed batch maintenance task in 367ms ===","timestamp":"2025-07-17T14:00:00.397Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T14:05:00.032Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T14:05:00.032Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T14:05:00.073Z"}
{"level":"info","message":"Checking 6 failed batches for orphaned summaries","timestamp":"2025-07-17T14:05:00.115Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T14:05:00.421Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T14:05:00.466Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T14:05:00.467Z"}
{"level":"info","message":"=== Completed batch maintenance task in 435ms ===","timestamp":"2025-07-17T14:05:00.467Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T14:10:00.025Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T14:10:00.026Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T14:10:00.068Z"}
{"level":"info","message":"Checking 6 failed batches for orphaned summaries","timestamp":"2025-07-17T14:10:00.113Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T14:10:00.409Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T14:10:00.454Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T14:10:00.455Z"}
{"level":"info","message":"=== Completed batch maintenance task in 431ms ===","timestamp":"2025-07-17T14:10:00.456Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T14:15:00.026Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T14:15:00.027Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T14:15:00.069Z"}
{"level":"info","message":"Checking 6 failed batches for orphaned summaries","timestamp":"2025-07-17T14:15:00.129Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T14:15:00.437Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T14:15:00.481Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T14:15:00.481Z"}
{"level":"info","message":"=== Completed batch maintenance task in 455ms ===","timestamp":"2025-07-17T14:15:00.481Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T14:20:00.023Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T14:20:00.024Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T14:20:00.065Z"}
{"level":"info","message":"Checking 6 failed batches for orphaned summaries","timestamp":"2025-07-17T14:20:00.126Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T14:20:00.428Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T14:20:00.470Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T14:20:00.471Z"}
{"level":"info","message":"=== Completed batch maintenance task in 448ms ===","timestamp":"2025-07-17T14:20:00.471Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T14:25:00.028Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T14:25:00.029Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T14:25:00.070Z"}
{"level":"info","message":"Checking 6 failed batches for orphaned summaries","timestamp":"2025-07-17T14:25:00.112Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T14:25:00.407Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T14:25:00.448Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T14:25:00.448Z"}
{"level":"info","message":"=== Completed batch maintenance task in 420ms ===","timestamp":"2025-07-17T14:25:00.448Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T14:30:00.032Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T14:30:00.033Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T14:30:00.075Z"}
{"level":"info","message":"Checking 6 failed batches for orphaned summaries","timestamp":"2025-07-17T14:30:00.120Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T14:30:00.410Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T14:30:00.452Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T14:30:00.452Z"}
{"level":"info","message":"=== Completed batch maintenance task in 421ms ===","timestamp":"2025-07-17T14:30:00.453Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T14:30:31.057Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T14:30:31.084Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T14:30:31.085Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T14:30:31.088Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T14:30:31.753Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T14:30:31.754Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T14:30:31.754Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T14:30:31.755Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T14:30:31.758Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T14:30:31.758Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T14:30:31.758Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T14:30:31.759Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T18:30:00.000Z"},"timestamp":"2025-07-17T14:30:31.759Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-17T14:30:36.765Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-17T14:30:36.766Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T14:30:37.170Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T14:30:37.170Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-17T14:30:37.170Z"}
{"level":"info","message":"Created batch tracker for batch: batch_1752762636767_6879090cb178298e2aac950e with 1 expected summaries","timestamp":"2025-07-17T14:30:37.219Z"}
{"level":"info","message":"Starting to send 1 summaries sequentially with 2-second delays","timestamp":"2025-07-17T14:30:37.220Z"}
{"level":"info","message":"All 1 summary requests have been sent","timestamp":"2025-07-17T14:30:37.223Z"}
{"level":"info","message":"Making POST request to: /summarize","timestamp":"2025-07-17T14:30:37.223Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries for batch: batch_1752762636767_6879090cb178298e2aac950e","timestamp":"2025-07-17T14:30:37.224Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 469ms ===","timestamp":"2025-07-17T14:30:37.234Z"}
{"level":"info","message":"Response received from /summarize - Status: 200 - Duration: 16262ms","timestamp":"2025-07-17T14:30:53.486Z"}
{"level":"info","message":"Summary request sent for user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752762636767_6879090cb178298e2aac950e","timestamp":"2025-07-17T14:30:53.487Z"}
{"level":"info","message":"Batch batch_1752762636767_6879090cb178298e2aac950e: 1/1 received (100.0%)","timestamp":"2025-07-17T14:30:53.933Z"}
{"level":"info","message":"Batch batch_1752762636767_6879090cb178298e2aac950e reached 50% completion, triggering partial audio generation","timestamp":"2025-07-17T14:30:53.978Z"}
{"level":"info","message":"Triggering audio generation for batch: batch_1752762636767_6879090cb178298e2aac950e","timestamp":"2025-07-17T14:30:54.025Z"}
{"level":"info","message":"Found 1 summaries without audio for batch batch_1752762636767_6879090cb178298e2aac950e. Sending individually with delays.","timestamp":"2025-07-17T14:30:54.154Z"}
{"level":"info","message":"All 1 audio generation requests sent for batch: batch_1752762636767_6879090cb178298e2aac950e","timestamp":"2025-07-17T14:30:54.157Z"}
{"level":"info","message":"Making POST request to: /generate-audio","timestamp":"2025-07-17T14:30:54.158Z"}
{"level":"info","message":"Batch batch_1752762636767_6879090cb178298e2aac950e fully completed, checking if audio generation is needed","timestamp":"2025-07-17T14:30:54.212Z"}
{"level":"info","message":"Batch batch_1752762636767_6879090cb178298e2aac950e was already updated by another process, skipping full completion","timestamp":"2025-07-17T14:30:54.256Z"}
{"level":"info","message":"Response received from /generate-audio - Status: 200 - Duration: 233588ms","timestamp":"2025-07-17T14:34:47.746Z"}
{"level":"info","message":"Audio generation request sent for summary 6879091db178298e2aac951a, user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752762636767_6879090cb178298e2aac950e","timestamp":"2025-07-17T14:34:47.746Z"}
{"level":"info","message":"Audio generation successful for summary 6879091db178298e2aac951a, user 322d223f-71e2-4b57-aa91-b17b637ca0a6","timestamp":"2025-07-17T14:34:48.066Z"}
{"level":"info","message":"Batch batch_1752762636767_6879090cb178298e2aac950e audio progress: 1/1 summaries have audio generated","timestamp":"2025-07-17T14:34:48.293Z"}
{"level":"info","message":"All summaries in batch batch_1752762636767_6879090cb178298e2aac950e have audio generated, marked batch as audio_complete","timestamp":"2025-07-17T14:34:48.338Z"}
{"level":"info","message":"Audio generation completed successfully for summary 6879091db178298e2aac951a","timestamp":"2025-07-17T14:34:48.338Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T14:35:00.026Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T14:35:00.026Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T14:35:00.066Z"}
{"level":"info","message":"Checking 6 failed batches for orphaned summaries","timestamp":"2025-07-17T14:35:00.112Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T14:35:00.433Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T14:35:00.476Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T14:35:00.476Z"}
{"level":"info","message":"=== Completed batch maintenance task in 451ms ===","timestamp":"2025-07-17T14:35:00.476Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T14:36:20.620Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T14:36:20.650Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T14:36:20.651Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T14:36:20.654Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T14:36:21.396Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T14:36:21.397Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T14:36:21.397Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T14:36:21.398Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T14:36:21.400Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T14:36:21.401Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T14:36:21.401Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T14:36:21.401Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T18:30:00.000Z"},"timestamp":"2025-07-17T14:36:21.402Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-17T14:36:26.401Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-17T14:36:26.402Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T14:36:26.930Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T14:36:26.931Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-17T14:36:26.931Z"}
{"level":"info","message":"Created batch tracker for batch: batch_1752762986403_68790a6a23ab832555e86da2 with 1 expected summaries","timestamp":"2025-07-17T14:36:26.992Z"}
{"level":"info","message":"Starting to send 1 summaries sequentially with 2-second delays","timestamp":"2025-07-17T14:36:26.992Z"}
{"level":"info","message":"All 1 summary requests have been sent","timestamp":"2025-07-17T14:36:26.994Z"}
{"level":"info","message":"Making POST request to: /summarize","timestamp":"2025-07-17T14:36:26.994Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries for batch: batch_1752762986403_68790a6a23ab832555e86da2","timestamp":"2025-07-17T14:36:26.995Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 600ms ===","timestamp":"2025-07-17T14:36:27.001Z"}
{"level":"error","message":"Network Error - No response received for URL: /summarize","timestamp":"2025-07-17T14:36:27.005Z"}
{"level":"error","message":"Error sending summary for user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752762986403_68790a6a23ab832555e86da2:","timestamp":"2025-07-17T14:36:27.016Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T14:40:00.033Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T14:40:00.033Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T14:40:00.075Z"}
{"level":"info","message":"Checking 6 failed batches for orphaned summaries","timestamp":"2025-07-17T14:40:00.123Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T14:40:00.441Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T14:40:00.488Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T14:40:00.488Z"}
{"level":"info","message":"=== Completed batch maintenance task in 455ms ===","timestamp":"2025-07-17T14:40:00.488Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T14:44:16.954Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T14:44:17.022Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T14:44:17.022Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T14:44:17.025Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T14:44:17.700Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T14:44:17.701Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T14:44:17.701Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T14:44:17.701Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T14:44:17.716Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T14:44:17.716Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T14:44:17.717Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T14:44:17.717Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T18:30:00.000Z"},"timestamp":"2025-07-17T14:44:17.717Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-17T14:44:22.703Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-17T14:44:22.704Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T14:44:23.143Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T14:44:23.143Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-17T14:44:23.143Z"}
{"level":"info","message":"Created batch tracker for batch: batch_1752763462704_68790c4668ecb6e61278b15a with 1 expected summaries","timestamp":"2025-07-17T14:44:23.205Z"}
{"level":"info","message":"Starting to send 1 summaries sequentially with 2-second delays","timestamp":"2025-07-17T14:44:23.206Z"}
{"level":"info","message":"All 1 summary requests have been sent","timestamp":"2025-07-17T14:44:23.208Z"}
{"level":"info","message":"Making POST request to: /summarize","timestamp":"2025-07-17T14:44:23.208Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries for batch: batch_1752763462704_68790c4668ecb6e61278b15a","timestamp":"2025-07-17T14:44:23.209Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 528ms ===","timestamp":"2025-07-17T14:44:23.231Z"}
{"level":"info","message":"Response received from /summarize - Status: 200 - Duration: 23421ms","timestamp":"2025-07-17T14:44:46.631Z"}
{"level":"info","message":"Summary request sent for user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752763462704_68790c4668ecb6e61278b15a","timestamp":"2025-07-17T14:44:46.631Z"}
{"level":"info","message":"Batch batch_1752763462704_68790c4668ecb6e61278b15a: 1/1 received (100.0%)","timestamp":"2025-07-17T14:44:48.556Z"}
{"level":"info","message":"Batch batch_1752763462704_68790c4668ecb6e61278b15a reached 50% completion, triggering partial audio generation","timestamp":"2025-07-17T14:44:48.591Z"}
{"level":"info","message":"Triggering audio generation for batch: batch_1752763462704_68790c4668ecb6e61278b15a","timestamp":"2025-07-17T14:44:48.633Z"}
{"level":"info","message":"Found 1 summaries without audio for batch batch_1752763462704_68790c4668ecb6e61278b15a. Sending individually with delays.","timestamp":"2025-07-17T14:44:48.763Z"}
{"level":"info","message":"All 1 audio generation requests sent for batch: batch_1752763462704_68790c4668ecb6e61278b15a","timestamp":"2025-07-17T14:44:48.764Z"}
{"level":"info","message":"Making POST request to: /generate-audio","timestamp":"2025-07-17T14:44:48.764Z"}
{"level":"info","message":"Batch batch_1752763462704_68790c4668ecb6e61278b15a fully completed, checking if audio generation is needed","timestamp":"2025-07-17T14:44:48.807Z"}
{"level":"info","message":"Batch batch_1752763462704_68790c4668ecb6e61278b15a was already updated by another process, skipping full completion","timestamp":"2025-07-17T14:44:48.847Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T14:45:00.019Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T14:45:00.022Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T14:45:00.058Z"}
{"level":"info","message":"Checking 6 failed batches for orphaned summaries","timestamp":"2025-07-17T14:45:00.102Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T14:45:00.383Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T14:45:00.430Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T14:45:00.442Z"}
{"level":"info","message":"=== Completed batch maintenance task in 426ms ===","timestamp":"2025-07-17T14:45:00.444Z"}
{"level":"info","message":"Response received from /generate-audio - Status: 200 - Duration: 289766ms","timestamp":"2025-07-17T14:49:38.530Z"}
{"level":"info","message":"Audio generation request sent for summary 68790c6068ecb6e61278b166, user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752763462704_68790c4668ecb6e61278b15a","timestamp":"2025-07-17T14:49:38.544Z"}
{"level":"info","message":"Audio generation successful for summary 68790c6068ecb6e61278b166, user 322d223f-71e2-4b57-aa91-b17b637ca0a6","timestamp":"2025-07-17T14:49:38.914Z"}
{"level":"info","message":"Batch batch_1752763462704_68790c4668ecb6e61278b15a audio progress: 1/1 summaries have audio generated","timestamp":"2025-07-17T14:49:39.209Z"}
{"level":"info","message":"All summaries in batch batch_1752763462704_68790c4668ecb6e61278b15a have audio generated, marked batch as audio_complete","timestamp":"2025-07-17T14:49:39.267Z"}
{"level":"info","message":"Audio generation completed successfully for summary 68790c6068ecb6e61278b166","timestamp":"2025-07-17T14:49:39.268Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T14:50:00.019Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T14:50:00.019Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T14:50:00.054Z"}
{"level":"info","message":"Checking 6 failed batches for orphaned summaries","timestamp":"2025-07-17T14:50:00.088Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T14:50:00.344Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T14:50:00.380Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T14:50:00.381Z"}
{"level":"info","message":"=== Completed batch maintenance task in 362ms ===","timestamp":"2025-07-17T14:50:00.381Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T14:53:02.036Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T14:53:02.064Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T14:53:02.065Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T14:53:02.069Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T14:53:02.684Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T14:53:02.687Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T14:53:02.688Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T14:53:02.689Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T14:53:02.698Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T14:53:02.699Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T14:53:02.700Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T14:53:02.701Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T18:30:00.000Z"},"timestamp":"2025-07-17T14:53:02.703Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-17T14:53:07.692Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-17T14:53:07.693Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T14:53:08.118Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T14:53:08.118Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-17T14:53:08.118Z"}
{"level":"info","message":"Created batch tracker for batch: batch_1752763987693_68790e5374bc932fa85a9a75 with 1 expected summaries","timestamp":"2025-07-17T14:53:08.175Z"}
{"level":"info","message":"Starting to send 1 summaries sequentially with 2-second delays","timestamp":"2025-07-17T14:53:08.176Z"}
{"level":"info","message":"All 1 summary requests have been sent","timestamp":"2025-07-17T14:53:08.179Z"}
{"level":"info","message":"Making POST request to: /summarize","timestamp":"2025-07-17T14:53:08.179Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries for batch: batch_1752763987693_68790e5374bc932fa85a9a75","timestamp":"2025-07-17T14:53:08.180Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 495ms ===","timestamp":"2025-07-17T14:53:08.187Z"}
{"level":"error","message":"Network Error - No response received for URL: /summarize","timestamp":"2025-07-17T14:53:29.178Z"}
{"level":"error","message":"Error sending summary for user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752763987693_68790e5374bc932fa85a9a75:","timestamp":"2025-07-17T14:53:29.180Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T14:55:00.032Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T14:55:00.032Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T14:55:00.069Z"}
{"level":"info","message":"Checking 6 failed batches for orphaned summaries","timestamp":"2025-07-17T14:55:00.109Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T14:55:00.351Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T14:55:00.389Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T14:55:00.390Z"}
{"level":"info","message":"=== Completed batch maintenance task in 359ms ===","timestamp":"2025-07-17T14:55:00.391Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T14:57:51.274Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T14:57:51.311Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T14:57:51.314Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T14:57:51.317Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T14:57:51.952Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T14:57:51.953Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T14:57:51.955Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T14:57:51.956Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T14:57:51.960Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T14:57:51.960Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T14:57:51.961Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T14:57:51.961Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T18:30:00.000Z"},"timestamp":"2025-07-17T14:57:51.962Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T14:57:57.582Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T14:57:57.609Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T14:57:57.610Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T14:57:57.613Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T14:57:58.223Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T14:57:58.224Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T14:57:58.224Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T14:57:58.225Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T14:57:58.227Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T14:57:58.228Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T14:57:58.228Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T14:57:58.228Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T18:30:00.000Z"},"timestamp":"2025-07-17T14:57:58.229Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T14:58:01.465Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T14:58:01.497Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T14:58:01.498Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T14:58:01.502Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T14:58:04.605Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T14:58:04.635Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T14:58:04.636Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T14:58:04.644Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T14:58:05.223Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T14:58:05.224Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T14:58:05.224Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T14:58:05.224Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T14:58:05.227Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T14:58:05.227Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T14:58:05.227Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T14:58:05.228Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T18:30:00.000Z"},"timestamp":"2025-07-17T14:58:05.228Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-17T14:58:10.235Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-17T14:58:10.235Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T14:58:10.567Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T14:58:10.567Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-17T14:58:10.567Z"}
{"level":"info","message":"Created batch tracker for batch: batch_1752764290236_68790f82ff3d49fe9cfe4a9f with 1 expected summaries","timestamp":"2025-07-17T14:58:10.611Z"}
{"level":"info","message":"Starting to send 1 summaries sequentially with 2-second delays","timestamp":"2025-07-17T14:58:10.612Z"}
{"level":"info","message":"All 1 summary requests have been sent","timestamp":"2025-07-17T14:58:10.615Z"}
{"level":"info","message":"Making POST request to: /summarize","timestamp":"2025-07-17T14:58:10.616Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries for batch: batch_1752764290236_68790f82ff3d49fe9cfe4a9f","timestamp":"2025-07-17T14:58:10.616Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 392ms ===","timestamp":"2025-07-17T14:58:10.627Z"}
{"level":"error","message":"Network Error - No response received for URL: /summarize","timestamp":"2025-07-17T14:58:10.632Z"}
{"level":"error","message":"Error sending summary for user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752764290236_68790f82ff3d49fe9cfe4a9f:","timestamp":"2025-07-17T14:58:10.634Z"}
{"level":"info","message":"Setting up summary generation scheduler with cron pattern: 0 */6 * * *","timestamp":"2025-07-17T14:58:38.171Z"}
{"level":"info","message":"Summary generation scheduler configured successfully","timestamp":"2025-07-17T14:58:38.201Z"}
{"level":"info","message":"Setting up batch maintenance scheduler with cron pattern: */5 * * * *","timestamp":"2025-07-17T14:58:38.202Z"}
{"level":"info","message":"Batch maintenance scheduler configured successfully","timestamp":"2025-07-17T14:58:38.205Z"}
{"level":"info","message":"ğŸ—„ï¸  MongoDB connected successfully","timestamp":"2025-07-17T14:58:38.841Z"}
{"level":"info","message":"Summary generation and batch maintenance schedulers started","timestamp":"2025-07-17T14:58:38.844Z"}
{"level":"info","message":"Running summary generation immediately on startup","timestamp":"2025-07-17T14:58:38.844Z"}
{"level":"info","message":"Summary generation scheduler initialized","timestamp":"2025-07-17T14:58:38.845Z"}
{"level":"info","message":"ğŸš€ Summary Service running on port 3003","timestamp":"2025-07-17T14:58:38.847Z"}
{"level":"info","message":"ğŸ“± Health check: http://localhost:3003/health","timestamp":"2025-07-17T14:58:38.847Z"}
{"level":"info","message":"ğŸ“Š API base: http://localhost:3003/api","timestamp":"2025-07-17T14:58:38.848Z"}
{"level":"info","message":"Environment: local","timestamp":"2025-07-17T14:58:38.848Z"}
{"batchMaintenance":{"cronPattern":"*/5 * * * *","isRunning":false,"isScheduled":false},"level":"info","message":"ğŸ“… Scheduler status:","summaryTask":{"cronPattern":"0 */6 * * *","isRunning":false,"isScheduled":false,"nextRun":"2025-07-17T18:30:00.000Z"},"timestamp":"2025-07-17T14:58:38.849Z"}
{"level":"info","message":"=== Starting scheduled summary generation ===","timestamp":"2025-07-17T14:58:43.846Z"}
{"level":"info","message":"Starting scheduled summary generation task","timestamp":"2025-07-17T14:58:43.846Z"}
{"level":"warn","message":"No category preferences found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T14:58:44.189Z"}
{"level":"info","message":"No articles found for user: 687530c3b1e9c035465f49a1","timestamp":"2025-07-17T14:58:44.190Z"}
{"level":"info","message":"Generated 1 summaries for users","timestamp":"2025-07-17T14:58:44.190Z"}
{"level":"info","message":"Created batch tracker for batch: batch_1752764323846_68790fa3a1338a628f0c1dd9 with 1 expected summaries","timestamp":"2025-07-17T14:58:44.232Z"}
{"level":"info","message":"Starting to send 1 summaries sequentially with 2-second delays","timestamp":"2025-07-17T14:58:44.233Z"}
{"level":"info","message":"All 1 summary requests have been sent","timestamp":"2025-07-17T14:58:44.247Z"}
{"level":"info","message":"Making POST request to: /summarize","timestamp":"2025-07-17T14:58:44.248Z"}
{"level":"info","message":"Completed scheduled summary generation task. Processed 1 summaries for batch: batch_1752764323846_68790fa3a1338a628f0c1dd9","timestamp":"2025-07-17T14:58:44.248Z"}
{"level":"info","message":"=== Completed scheduled summary generation in 413ms ===","timestamp":"2025-07-17T14:58:44.259Z"}
{"level":"error","message":"Network Error - No response received for URL: /summarize","timestamp":"2025-07-17T14:58:44.263Z"}
{"level":"error","message":"Error sending summary for user 322d223f-71e2-4b57-aa91-b17b637ca0a6 in batch batch_1752764323846_68790fa3a1338a628f0c1dd9:","timestamp":"2025-07-17T14:58:44.265Z"}
{"level":"info","message":"=== Starting batch maintenance task ===","timestamp":"2025-07-17T15:00:00.019Z"}
{"level":"info","message":"Starting batch timeout maintenance task","timestamp":"2025-07-17T15:00:00.019Z"}
{"level":"info","message":"Found 0 timed-out batches to process","timestamp":"2025-07-17T15:00:00.054Z"}
{"level":"info","message":"Checking 6 failed batches for orphaned summaries","timestamp":"2025-07-17T15:00:00.095Z"}
{"level":"info","message":"Checking 0 pending batches for partial completion","timestamp":"2025-07-17T15:00:00.340Z"}
{"level":"info","message":"Batch statistics:","timestamp":"2025-07-17T15:00:00.376Z"}
{"level":"info","message":"Completed batch timeout maintenance task","timestamp":"2025-07-17T15:00:00.377Z"}
{"level":"info","message":"=== Completed batch maintenance task in 358ms ===","timestamp":"2025-07-17T15:00:00.377Z"}
